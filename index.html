<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emoji </title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #f0f0f0;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .container {
      text-align: center;
    }

    button {
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }

    #emoji {
      font-size: 50px;
      margin-top: 20px;
    }

    /* Glitch mode background */
    .glitch-bg {
      animation: glitchBackground 0.3s infinite;
    }

    @keyframes glitchBackground {
      0% { background: black; }
      50% { background: #300; } /* merah gelap */
      100% { background: black; }
    }

    /* Teks utama */
    #main-text {
      position: absolute;
      top: 40%;
      width: 100%;
      text-align: center;
      font-size: 28px;
      color: red;
      white-space: pre-wrap;
    }

    /* Teks acak glitch */
    .random-text {
      position: absolute;
      color: #ff000033;
      font-size: 14px;
      animation: flicker 0.2s infinite alternate;
    }

    @keyframes flicker {
      from { opacity: 0.2; }
      to { opacity: 1; }
    }

    /* Kotak restart */
    #restart-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.7);
      padding: 20px;
      border: 2px solid red;
      color: white;
      display: none;
    }

    #restart-box button {
      margin-top: 10px;
      padding: 5px 15px;
      cursor: pointer;
    }

    #close-btn {
      position: absolute;
      top: 2px;
      right: 5px;
      cursor: pointer;
      font-size: 14px;
      color: red;
    }

    /* Ending */
    #ending {
      display: none;
      font-size: 24px;
      text-align: center;
      color: black;
    }
  </style>
</head>
<body>
  <div class="container" id="main">
    <h1>Emoji Gacha</h1>
    <button onclick="gacha()">Klik To Gacha</button>
    <div id="emoji"></div>
  </div>

  <div id="main-text"></div>
  <div id="restart-box">
    <div id="close-btn" onclick="moveBox()">X</div>
    <p>Klik to Restart</p>
    <button onclick="restart()">Klik</button>
  </div>

  <div id="ending">
    <h1>Maaf ini cuma bercanda aja kok hehe</h1>
  </div>

  <script>
    const emojis = ["😀","😎","🦋","🔥","👻","💀","👽","🎁"];
    let glitchInterval;

    function gacha() {
      const result = emojis[Math.floor(Math.random() * emojis.length)];
      document.getElementById("emoji").innerText = result;

      if (result === "🎁") {
        setTimeout(startGlitch, 1000);
      }
    }

    function startGlitch() {
      document.body.classList.add("glitch-bg");
      document.getElementById("main").style.display = "none";
      typeWriter("ACCESSING DATA...\nHACKING SYSTEM...\nDELETING FILES...", 0);

      // spawn teks acak
      glitchInterval = setInterval(spawnRandomText, 200);
      
      // setelah 6 detik munculin restart box
      setTimeout(() => {
        document.getElementById("restart-box").style.display = "block";
      }, 6000);
    }

    function typeWriter(text, i) {
      if (i < text.length) {
        document.getElementById("main-text").innerText += text.charAt(i);
        setTimeout(() => typeWriter(text, i + 1), 80);
      }
    }

    function spawnRandomText() {
      const el = document.createElement("div");
      el.className = "random-text";
      el.style.top = Math.random() * window.innerHeight + "px";
      el.style.left = Math.random() * window.innerWidth + "px";
      el.innerText = "### ERROR ###";
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 1000);
    }

    function moveBox() {
      const box = document.getElementById("restart-box");
      box.style.top = Math.random() * 80 + "%";
      box.style.left = Math.random() * 80 + "%";
      box.style.transform = "translate(0,0)";
    }

    function restart() {
      clearInterval(glitchInterval);
      document.body.classList.remove("glitch-bg");
      document.getElementById("main-text").innerText = "";
      document.querySelectorAll(".random-text").forEach(e => e.remove());
      document.getElementById("restart-box").style.display = "none";
      document.body.style.background = "white";
      document.getElementById("ending").style.display = "block";
    }
  </script>
</body>
</html>

